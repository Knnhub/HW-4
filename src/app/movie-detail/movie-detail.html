<div *ngIf="movie" class="movie-detail-container">
  <div class="movie-header">
    <img [src]="movie.image" [alt]="movie.title" class="movie-poster-large">
    <div class="movie-info-header">
      <h1>{{ movie.title }} ({{ movie.rating }}/10)</h1>
      <p class="movie-meta">
        {{ movie.genre.join(', ') }} | Directed by {{ movie.director }}
      </p>
      <p class="movie-description">{{ movie.description }}</p>
      <div class="action-buttons">
        <button class="watchlist-button"><i class="fas fa-bookmark"></i> Add to Watchlist</button>
        </div>

      <div *ngIf="safeTrailerUrl" class="trailer-container">
        <iframe [src]="safeTrailerUrl" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
      </div>

    </div>
  </div>

  <div class="cast-section">
    <h2>Top Cast</h2>
    <div class="cast-list">
      <div *ngFor="let actor of movie.cast" class="actor-card" (click)="goToActorDetails(actor.id)">
        <img [src]="actor.image" [alt]="actor.name" class="actor-photo">
        <span class="actor-name">{{ actor.name }}</span>
        <span class="actor-role">{{ actor.role }}</span>
      </div>
    </div>
  </div>
</div>

<button class="back-button" (click)="goBack()"><i class="fas fa-arrow-left"></i> Back</button>

<div *ngIf="!movie" class="loading-message">
  Loading movie details...
</div>